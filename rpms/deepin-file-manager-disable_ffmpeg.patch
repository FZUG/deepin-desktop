--- a/dde-file-manager-lib/configure.qrc
+++ b/dde-file-manager-lib/configure.qrc
@@ -2,5 +2,6 @@
     <qresource prefix="/">
         <file>configure/global-setting-template.json</file>
         <file>configure/global-setting-template-pro.json</file>
+        <file>configure/global-setting-template-fedora.json</file>
     </qresource>
 </RCC>
index 0000000..4b7fbd0
--- /dev/null
+++ b/dde-file-manager-lib/configure/global-setting-template-fedora.json
@@ -0,0 +1,199 @@
+{
+    "groups": [
+        {
+            "key": "base",
+            "name": "Basic",
+            "groups": [
+                {
+                    "key": "open_action",
+                    "name": "Open behavior",
+                    "options": [
+                        {
+                            "key": "allways_open_on_new_window",
+                            "type": "checkbox",
+                            "text": "Always open folder in new window",
+                            "default": false
+                        },
+                        {
+                            "key": "open_file_action",
+                            "name": "Open file:",
+                            "type": "combobox",
+                            "items": [
+                                "Click",
+                                "Double click"
+                                ],
+                            "default": 1
+                        }
+                    ]
+                },
+                {
+                    "key": "new_tab_windows",
+                    "name": "New window and tab",
+                    "options": [
+                        {
+                            "key": "default_window_path",
+                            "name": "Open from default window:",
+                            "type": "combobox",
+                            "items": [
+                                "Computer",
+                                "Home",
+                                "Desktop",
+                                "Videos",
+                                "Music",
+                                "Pictures",
+                                "Documents",
+                                "Downloads"
+                            ],
+                            "default": 0
+                        },
+                        {
+                            "key": "new_tab_path",
+                            "name": "Open in new tab:",
+                            "type": "combobox",
+                            "items": [
+                                "Current Directory",
+                                "Computer",
+                                "Home",
+                                "Desktop",
+                                "Videos",
+                                "Music",
+                                "Pictures",
+                                "Documents",
+                                "Downloads"
+                                ],
+                            "default": 0
+                        }
+                    ]
+                },
+                {
+                    "key": "default_view",
+                    "name": "View",
+                    "options": [
+                        {
+                            "key": "icon_size",
+                            "name": "Default size:",
+                            "type": "combobox",
+                            "items": [
+                                "Extra small",
+                                "Small",
+                                "Medium",
+                                "Large",
+                                "Extra large"
+                            ],
+                            "default": 1
+                        }
+                    ]
+                },
+                {
+                    "key": "hidden_files",
+                    "name": "Hidden files",
+                    "options": [
+                        {
+                            "key": "show_hidden",
+                            "text": "Show hidden files",
+                            "type": "checkbox",
+                            "default": false
+                        }
+
+                    ]
+                }
+
+            ]
+        },
+        {
+            "key": "advance",
+            "name": "Advanced",
+            "groups": [
+                {
+                    "key": "search",
+                    "name": "",
+                    "options": [
+                        {
+                            "key": "quick_search",
+                            "text": "Quick search",
+                            "type": "checkbox",
+                            "default": false,
+                            "hide": true
+                        },
+                        {
+                            "key": "show_hidden",
+                            "text": "Show hidden files in search results",
+                            "type": "checkbox",
+                            "default": false,
+                            "hide": true
+                        }
+                    ]
+                },
+                {
+                    "key": "preview",
+                    "name": "Preview",
+                    "options": [
+                        {
+                            "key": "compress_file_preview",
+                            "text": "Compress file preview",
+                            "type": "checkbox",
+                            "default": false,
+                            "hide": true
+                        },
+                        {
+                            "key": "text_file_preview",
+                            "text": "Text preview",
+                            "type": "checkbox",
+                            "default": true
+                        },
+                        {
+                            "key": "document_file_preview",
+                            "text": "Document preview",
+                            "type": "checkbox",
+                            "default": true
+                        },
+                        {
+                            "key": "image_file_preview",
+                            "text": "Image preview",
+                            "type": "checkbox",
+                            "default": true
+                        },
+                        {
+                            "key": "video_file_preview",
+                            "text": "Video preview",
+                            "type": "checkbox",
+                            "default": true,
+                            "hide": true
+                        }
+                    ]
+                },
+                {
+                    "key": "mount",
+                    "name": "Mount",
+                    "options": [
+                        {
+                            "key": "auto_mount",
+                            "text": "Auto mount",
+                            "type": "checkbox",
+                            "default": true
+                        },
+                        {
+                            "key": "auto_mount_and_open",
+                            "text": "Auto mount and open",
+                            "type": "checkbox",
+                            "default": false
+                        }
+                    ]
+                },
+                {
+                    "key": "dialog",
+                    "name": "Dialog",
+                    "options": [
+                        {
+                            "key": "default_chooser_dialog",
+                            "text": "Use the file chooser dialog of Deepin File Manager",
+                            "type": "checkbox",
+                            "default": true
+                        }
+                    ]
+                }
+            ]
+        }
+
+      ]
+}
--- a/dde-file-manager-lib/dde-file-manager-lib.pro
+++ b/dde-file-manager-lib/dde-file-manager-lib.pro
@@ -40,7 +40,12 @@
 #DEFINES += QT_NO_DEBUG_OUTPUT
 DEFINES += QT_MESSAGELOGCONTEXT
 
-LIBS += -lmagic -lffmpegthumbnailer
+isEqual(IS_PLATFORM_FEDORA, YES){
+
+}else{
+    DEFINES += SUPPORT_FFMPEG
+    LIBS += -lffmpegthumbnailer
+}
 
 include(../dialogs/dialogs.pri)
 include(../utils/utils.pri)
--- a/dde-file-manager-lib/interfaces/dfmsetting.cpp
+++ b/dde-file-manager-lib/interfaces/dfmsetting.cpp
@@ -43,8 +43,12 @@
     //load temlate
     m_settings = Dtk::Core::DSettings::fromJsonFile(":/configure/global-setting-template-pro.json").data();
 #else
+#ifndef SUPPORT_FFMPEG
+    m_settings = Dtk::Core::DSettings::fromJsonFile(":/configure/global-setting-template-fedora.json").data();
+#else
     m_settings = Dtk::Core::DSettings::fromJsonFile(":/configure/global-setting-template.json").data();
 #endif
+#endif
 
     //load conf value
     auto backen = new DTK_CORE_NAMESPACE::QSettingBackend(getConfigFilePath());
--- a/dde-file-manager-lib/interfaces/dthumbnailprovider.cpp
+++ b/dde-file-manager-lib/interfaces/dthumbnailprovider.cpp
@@ -27,7 +27,9 @@
 #include <poppler-page-renderer.h>
 
 // ffmpeg
+#ifdef SUPPORT_FFMPEG
 #include <libffmpegthumbnailer/videothumbnailer.h>
+#endif
 
 #include <DThumbnailProvider>
 
@@ -380,7 +382,9 @@
         }
 
         *image = img.scaled(QSize(size,size), Qt::KeepAspectRatio, Qt::SmoothTransformation);
-    } else if (mime.name().startsWith("video/")) {
+    }
+#ifdef SUPPORT_FFMPEG
+    else if (mime.name().startsWith("video/")) {
         //video
         //FIXME(zccrs): This should be done using the image plugin?
         try {
@@ -394,7 +398,9 @@
             d->errorString = e.what();
             goto _return;
         }
-    } else {
+    }
+#endif
+    else {
         thumbnail = DTK_WIDGET_NAMESPACE::DThumbnailProvider::instance()->createThumbnail(info, (DTK_WIDGET_NAMESPACE::DThumbnailProvider::Size)size);
         d->errorString = DTK_WIDGET_NAMESPACE::DThumbnailProvider::instance()->errorString();
 
--- a/thumbnailer/thumbnailgenerator.cpp
+++ b/thumbnailer/thumbnailgenerator.cpp
@@ -23,13 +23,15 @@
 #include <poppler-page-renderer.h>
 
 // ffmpeg
+#ifdef SUPPORT_FFMPEG
 #include "libffmpegthumbnailer/videothumbnailer.h"
+using namespace ffmpegthumbnailer;
+#endif
 
 #include "DWidgetUtil"
 
 DWIDGET_USE_NAMESPACE
 
-using namespace ffmpegthumbnailer;
 
 ThumbnailGenerator::ThumbnailGenerator(QObject *parent) : QObject(parent)
 {
@@ -48,8 +50,10 @@
             pixmap = getTextplainThumbnail(fPath, size);
         if(isPDFFile(fPath))
             pixmap = getPDFThumbnail(fPath, size);
+#ifdef SUPPORT_FFMPEG
         if(isVideoFile(fPath))
             pixmap = getVideoThumbnail(fPath, size);
+#endif
     }
     else{
         //TODO
